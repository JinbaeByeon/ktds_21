package gas_station;

public class Customer {
	private Fuel fuel = new Fuel();
	private int money;

	public Customer(Fuel fuel, int money) {
		this.fuel = fuel;
		this.money = money;
	}
	public Fuel getFuel() {
		return fuel;
	}

	public void setFuel(Fuel fuel) {
		this.fuel = fuel;
	}

	public void buy(GasStation gasStation, int sort, int amount) {
		double price = amount * GasStation.PRICE_OF_OIL[sort];
		if (!checkMoney(price)) {
			return;
		}
		if(gasStation.sell(sort, amount)) {
			fuel.add(amount);
			pay(gasStation, price);
		}
	}

	public void pay(GasStation gasStation, double price) {
		money -= price;
		gasStation.income(price);
	}

	public boolean checkMoney(double price) {
		if (money > price)
			return true;
		System.out.println("잔액이 부족합니다.");
		return false;
	}

	@Override
	public String toString() {
		return "[고객] " + fuel + "/ 자본금: " + money;
	}

}
