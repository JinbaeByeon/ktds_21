package market;

/**
 * 구매자
 * @author User
 *
 */
public class Buyer extends Trader {
	/**
	 * 주문
	 * (seller에게 amount 만큼 주문)
	 * @param seller 판매자
	 * @param amount 주문개수
	 * @param price 단가
	 */
	public void buy(Seller seller,int amount) {
		int price = amount*Market.PRICE_OF_APPLE;
		if(seller.getStock() <amount|| money <price) {
			System.out.println("못삼");
			return;
		}
		int res =pay(price);
		
		if(res== 0) {
			return;
		}
		else {
			res = seller.sell(amount);
			stock += res;
			if(res ==0)
				money += price;
		}	
	}
	/**
	 * 지불
	 * (seller에게 amount*price 만큼 지불)
	 * @param seller 판매자
	 * @param amount 주문개수
	 */
	private int pay(int price) {
		if(money < price) {
			System.out.println("구매자의 돈이 부족함");
			return 0;
		}
		money -= price;
		return price;
	}
	
	public void show() {
		System.out.print("[구매자] ");
		super.show();
	}
}
